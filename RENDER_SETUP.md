# Render Deployment Guide ‚Äî NodeWeaver

–ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π NodeWeaver –Ω–∞ Render —Å Docker, PostgreSQL, –∏ –≤—Å–µ–º–∏ OSINT –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –ó–∞–π–¥–∏ –Ω–∞ [render.com](https://render.com)
2. –õ–æ–≥–∏–Ω—å—Å—è —á–µ—Ä–µ–∑ GitHub
3. **New** ‚Üí **Blueprint**
4. –í—ã–±–µ—Ä–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `lupodelvita/penis-mishu-i-moi`
5. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç `render.yaml` –∏ —Å–æ–∑–¥–∞—Å—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã

## üìã –ß—Ç–æ —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

### 1. PostgreSQL Database (`nodeweaver-db`)
- **Plan**: Free
- **Region**: Frankfurt  
- **–ê–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ**: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞—Å—Ç—Å—è –ø–µ—Ä–≤–æ–π
- **Connection String**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ç—è–Ω–µ—Ç—Å—è –≤ API —á–µ—Ä–µ–∑ `DATABASE_URL`

### 2. API Service (`nodeweaver-api`)
- **Type**: Web Service (Docker)
- **Dockerfile**: `apps/api/Dockerfile`
- **Port**: 4000
- **Health Check**: `/health`
- **Auto Deploy**: –¥–∞ (–ø—Ä–∏ push –≤ main)
- **Features**:
  - ‚úÖ Docker: nmap, whois, dnsutils
  - ‚úÖ WebSocket: real-time collaboration
  - ‚úÖ Prisma migrations: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ
  - ‚úÖ OSINT tooling: –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç

### 3. Web Service (`nodeweaver-web`)
- **Type**: Web Service (Node.js)
- **Build**: Next.js production build
- **Auto Deploy**: –¥–∞ (–ø—Ä–∏ push –≤ main)
- **NEXT_PUBLIC_API_URL**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ API

## ‚öôÔ∏è Environment Variables (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)

Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `render.yaml`:

```bash
# API Service
DATABASE_URL=postgresql://... (–∏–∑ nodeweaver-db)
JWT_SECRET=<auto-generated>
SESSION_SECRET=<auto-generated>
MASTER_KEY=<auto-generated>
PORT=4000
NODE_ENV=production

# Web Service  
NEXT_PUBLIC_API_URL=https://nodeweaver-api.onrender.com
```

## üîê –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ API –∫–ª—é—á–∏ (–¥–æ–±–∞–≤—å –≤—Ä—É—á–Ω—É—é)

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤, –¥–æ–±–∞–≤—å OSINT API –∫–ª—é—á–∏ –≤ Dashboard:

1. Render Dashboard ‚Üí `nodeweaver-api` ‚Üí **Environment**
2. –î–æ–±–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```bash
# Shodan
SHODAN_API_KEY=your_key

# VirusTotal
VIRUSTOTAL_API_KEY=your_key

# Hunter.io
HUNTER_API_KEY=your_key

# Have I Been Pwned
HIBP_API_KEY=your_key

# SecurityTrails
SECURITYTRAILS_API_KEY=your_key
```

3. **Save Changes** ‚Üí Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–¥–µ–ø–ª–æ–∏—Ç

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è

### 1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
```bash
# Render Dashboard ‚Üí nodeweaver-api ‚Üí Logs
```

–î–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å:
```
‚úì Migrations deployed successfully
‚úì Server running on port 4000
‚úì Health check passed
```

### 2. –¢–µ—Å—Ç API
```bash
curl https://nodeweaver-api.onrender.com/health
# –û—Ç–≤–µ—Ç: {"status":"ok","timestamp":"2026-02-15T..."}
```

### 3. –¢–µ—Å—Ç frontend
–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://nodeweaver-web.onrender.com`

### 4. –¢–µ—Å—Ç Docker —Ñ–∏—á (Nmap)
1. –ó–∞–π–¥–∏ –Ω–∞ frontend
2. –°–æ–∑–¥–∞–π IP entity: `8.8.8.8`
3. Nmap Quick Scan ‚Üí **–¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å!**

### 5. –¢–µ—Å—Ç WebSocket (Collaboration)
1. –û—Ç–∫—Ä–æ–π –¥–≤–∞ –±—Ä–∞—É–∑–µ—Ä–∞ —Ä—è–¥–æ–º
2. –ó–∞–π–¥–∏ –Ω–∞ –æ–¥–∏–Ω –≥—Ä–∞—Ñ
3. CollaborationPanel ‚Üí **–¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å "–û–Ω–ª–∞–π–Ω"**
4. –î–æ–±–∞–≤—å entity –≤ –æ–¥–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ ‚Üí –≤—Ç–æ—Ä–æ–π –≤–∏–¥–∏—Ç real-time

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "Build failed" –Ω–∞ API
**–ü—Ä–∏—á–∏–Ω–∞**: Docker build —É–ø–∞–ª

**–†–µ—à–µ–Ω–∏–µ**:
1. Render Dashboard ‚Üí nodeweaver-api ‚Üí **Manual Deploy** ‚Üí **Clear build cache & deploy**
2. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –±–∏–ª–¥–∞ ‚Äî –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ –≤—Å–µ RUN –∫–æ–º–∞–Ω–¥—ã –∏–∑ Dockerfile

### –ü—Ä–æ–±–ª–µ–º–∞: "Database connection failed"
**–ü—Ä–∏—á–∏–Ω–∞**: `DATABASE_URL` –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

**–†–µ—à–µ–Ω–∏–µ**:
1. Dashboard ‚Üí nodeweaver-db ‚Üí **Connection** ‚Üí —Å–∫–æ–ø–∏—Ä—É–π Internal Connection String
2. Dashboard ‚Üí nodeweaver-api ‚Üí Environment ‚Üí –ø—Ä–æ–≤–µ—Ä—å `DATABASE_URL`
3. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–æ—Ä–º–∞—Ç: `postgresql://user:pass@host:5432/nodeweaver`

### –ü—Ä–æ–±–ª–µ–º–∞: Web –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ API
**–ü—Ä–∏—á–∏–Ω–∞**: `NEXT_PUBLIC_API_URL` –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

**–†–µ—à–µ–Ω–∏–µ**:
1. Dashboard ‚Üí nodeweaver-api ‚Üí —Å–∫–æ–ø–∏—Ä—É–π URL (–Ω–∞–ø—Ä–∏–º–µ—Ä `https://nodeweaver-api.onrender.com`)
2. Dashboard ‚Üí nodeweaver-web ‚Üí Environment ‚Üí `NEXT_PUBLIC_API_URL`
3. –£–±–µ–¥–∏—Å—å —á—Ç–æ **–ë–ï–ó** trailing slash
4. Save Changes ‚Üí redeploy

### –ü—Ä–æ–±–ª–µ–º–∞: "Free instance spun down"
**–ü—Ä–∏—á–∏–Ω–∞**: Render Free tier –∑–∞—Å—ã–ø–∞–µ—Ç –ø–æ—Å–ª–µ 15 –º–∏–Ω—É—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**–†–µ—à–µ–Ω–∏–µ**:
- –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ—Å–ª–µ —Å–Ω–∞ –∑–∞–Ω–∏–º–∞–µ—Ç ~30 —Å–µ–∫—É–Ω–¥ (cold start)
- –î–ª—è production: –∞–ø–≥—Ä–µ–π–¥ –Ω–∞ Starter plan ($7/month) ‚Äî –∏–Ω—Å—Ç–∞–Ω—Å –≤—Å–µ–≥–¥–∞ –∞–∫—Ç–∏–≤–µ–Ω
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π [UptimeRobot](https://uptimerobot.com) –¥–ª—è –ø–∏–Ω–≥–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç

## üí∞ Pricing

**Free Tier (—Ç–µ–∫—É—â–∏–π):**
- ‚úÖ 750 —á–∞—Å–æ–≤/–º–µ—Å—è—Ü –Ω–∞ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ PostgreSQL 1GB
- ‚ö†Ô∏è –°–ø–∏—Ç –ø–æ—Å–ª–µ 15 –º–∏–Ω—É—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- ‚ö†Ô∏è –•–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç ~30 —Å–µ–∫—É–Ω–¥

**Starter Plan ($7/month –Ω–∞ —Å–µ—Ä–≤–∏—Å):**
- ‚úÖ –í—Å–µ–≥–¥–∞ –∞–∫—Ç–∏–≤–µ–Ω (no sleep)
- ‚úÖ –ë–æ–ª—å—à–µ CPU/RAM
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –±–∏–ª–¥

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è production:**
- API: Starter ($7) ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è real-time WebSocket
- Web: Free ‚Äî —Å—Ç–∞—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ –Ω–∞ Free tier
- DB: Free ‚Äî 1GB –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –Ω–∞—á–∞–ª–∞

## üîÑ Auto Deployments

Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç –ø—Ä–∏ push –≤ `main`:

```bash
git add .
git commit -m "feature: new OSINT service"
git push origin main
```

‚Üí Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ë–∏–ª–¥–∏—Ç –Ω–æ–≤—ã–π Docker image (API)
2. –ë–∏–ª–¥–∏—Ç Next.js production (Web)
3. –ó–∞–ø—É—Å–∫–∞–µ—Ç Prisma migrations
4. –î–µ–ø–ª–æ–∏—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
5. Health checks ‚Üí –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Ç—Ä–∞—Ñ–∏–∫

## üéØ –ò—Ç–æ–≥

**Render (Production Ready):**
- ‚úÖ Docker: nmap, whois, –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ WebSocket: real-time collaboration
- ‚úÖ PostgreSQL: managed database
- ‚úÖ Auto deployments: –ø—Ä–∏ –∫–∞–∂–¥–æ–º push
- ‚úÖ SSL/HTTPS: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ Health checks: zero-downtime deploys
- üí∞ Free tier: –æ—Ç–ª–∏—á–Ω—ã–π –¥–ª—è MVP

**vs Vercel/Railway:**
- üÜö Vercel: –Ω–µ—Ç Docker, –Ω–µ—Ç WebSocket ‚Üí –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç
- üÜö Railway: –æ—Ç–ª–∏—á–Ω—ã–π, –Ω–æ –¥–æ—Ä–æ–≥–æ–π ($5/–º–µ—Å—è—Ü minimum)
- ‚úÖ Render: –ª—É—á—à–∏–π –±–∞–ª–∞–Ω—Å —Ñ—É–Ω–∫—Ü–∏–π –∏ —Ü–µ–Ω—ã –¥–ª—è NodeWeaver

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**
